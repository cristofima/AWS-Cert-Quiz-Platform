# pnpm Configuration
# Learn more: https://pnpm.io/npmrc

# Use workspace protocol for internal packages
link-workspace-packages=true

# Hoist all dependencies to root node_modules for better compatibility
# This is important for Lambda packaging - Terraform needs to see node_modules
hoist=true
public-hoist-pattern[]=*

# Strict peer dependencies (recommended for production)
strict-peer-dependencies=false

# Enable shamefully-hoist for better compatibility with tools that expect flat node_modules
# This ensures Lambda functions can find their dependencies when packaged
shamefully-hoist=true

# Store location (optional - useful for CI/CD caching)
# store-dir=~/.pnpm-store

# Lock file settings
lockfile=true

# Resolution mode
resolution-mode=highest

# Enable catalog protocol (experimental feature for centralized versions)
# This allows using "catalog:" in package.json dependencies
use-node-version=20.17.0

# Auto-install peers (convenience)
auto-install-peers=true

# Save exact versions in package.json when adding new packages
save-exact=false

# Prefer frozen lockfile in CI
# frozen-lockfile=true
